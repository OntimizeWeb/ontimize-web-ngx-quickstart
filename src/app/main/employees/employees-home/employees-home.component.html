<div class="container">
  <o-form editable-detail="no" show-header="no" layout-align="start stretch" class="employees-filters-form" fxFill>

    <o-column-collapsible title="{{ 'FILTERS_EMPLOYEES' | oTranslate }}" appearance="legacy" expanded="no" icon="filter_list" class="collapsible">
      <div class="filter_style" fxLayout="column" fxLayoutGap="14px">
        <div fxLayout="row wrap" fxLayoutGap="32px">
          <o-text-input attr="name" read-only="no" fxFlex="calc(25% - 32px)"></o-text-input>
          <o-text-input attr="surname" read-only="no" fxFlex="calc(25% - 32px)"></o-text-input>
          <o-combo #type attr="employeetype" read-only="no" service="employees" entity="Employeetype" columns="employeetypeid;employeetypename"
            value-column="employeetypeid" keys="employeetypeid" visible-columns="employeetypename" fxFlex="calc(25% - 32px)"></o-combo>
          <o-text-input attr="EMAIL" read-only="no" fxFlex="25%"></o-text-input>
        </div>
        <div fxLayout="row" fxLayoutGap="32px">
          <o-combo #branch attr="office" read-only="no" service="branches" entity="Branch" columns="officeid;name" value-column="officeid"
            keys="officeid" visible-columns="name" fxFlex="calc(25% - 32px)"></o-combo>
          <div fxFlex="75%" fxFill class="filter_btn" fxLayoutAlign="flex-end flex-end">

            <o-button attr="clear" [oFilterBuilderClear]="filterBuilder" type="STROKED" label="Clear" layout-padding>
            </o-button>
            <o-button attr="filter" [oFilterBuilderQuery]="filterBuilder" type="STROKED" label="Filter" layout-padding color="accent">
            </o-button>
            <o-filter-builder-menu [oFilterBuilder]="filterBuilder" show-filter-option="no" show-clear-filter-option="no"
              layout-padding></o-filter-builder-menu>
          </div>
        </div>
      </div>
      <o-filter-builder #filterBuilder attr="thefilter"
        filters="employeename:name;employeesurname:surname;employeetypeid:employeetype;employeeemail:email;officeid:office" [target]="grid"
        [expression-builder]="createFilter"></o-filter-builder> -->
    </o-column-collapsible>


    <div fxLayout="column" fxFlex="1 1 auto">
      <o-grid #grid attr="employees" service="employees" entity="Employee"
        columns="employeeid;employeetypeid;employeename;employeesurname;employeeaddress;employeestartdate;employeeemail;officeid;employeephoto;employeephone;name"
        quick-filter-columns="employeename;employeesurname;employeeaddress;employeeemail;officeid" keys="employeid" sort-columns="employeesurname"
        pageable="yes" query-rows="16" fixed-header="yes" refresh-button="no" gutter-size="18px" detail-mode="none">
        <o-button o-grid-toolbar position="end" (click)="fillReportFilter()" label="FILL_REPORT" type="STROKED" icon="description"
          [matTooltip]="'FILL_REPORT' | oTranslate">
        </o-button>
        <o-grid-item *ngFor="let item of grid.dataArray">
          <div (click)="openDetail(item)" fxLayout="column" fxLayoutAlign="space-evenly center" class="employee-item mat-elevation-z1">
            <div fxLayout="row" fxLayoutAlign="space-between end" class="image-container">
              <mat-divider fxFlex></mat-divider>
              <div class="image">
                <img [src]="getImageSrc(item.employeephoto)">
              </div>
             <mat-divider fxFlex></mat-divider>
            </div>

            <div fxLayout="column" fxLayoutAlign="start center" class="employee-data">
              <span class=" employee-name">{{ item.employeename }} {{ item.employeesurname }}</span>
              <span>{{ item.employeeemail }}</span>
              <span>{{ 'employee_branch' | oTranslate : {values: [item.NAME]} }}
                <div class="square"></div>
                {{ 'employeetype_' + item.EMPLOYEETYPEID | oTranslate }}
              </span>
              <span>{{ item.address }}</span>
            </div>
          </div>
        </o-grid-item>
      </o-grid>
    </div>

  </o-form>
</div>
